<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="comm">      

  <typeAlias alias="codto" type="jackpot.DTO.communityDTO"/>


      <select id="commList" resultClass="codto">
            select com_num,title,content,writer,reg_date,readcount,recommend,ref,re_step,re_level from community order by com_num asc
      </select>


       <insert id="insertComm" parameterClass="codto">
     insert into community(com_num,title,content,writer,readcount,recommend,btype,emp_num) 
            values(community_seq.nextval,#title#,#content#,#writer#,0,0,1,#emp_num#)
       </insert>

      <update id="readCount" parameterClass="int">
      update community set readcount=readcount+1 where com_num =#com_num#
      </update>
    
    <select id="content" resultClass="codto"  parameterClass="int">
            select com_num,title,content,writer,reg_date,readcount,recommend,ref,re_step,re_level from community where com_num =#com_num#
      </select>
    
    
        
</sqlMap>