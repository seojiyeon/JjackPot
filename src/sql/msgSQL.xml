<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="msg">      

  <typeAlias alias="msgDTO" type="jackpot.DTO.msgDTO"/>
	
       <insert id="sendmsg" parameterClass="msgDTO">
        insert into message values(message_seq.NEXTVAL,#emp_num#,#msg_cate#,#msg_send#,#msg_receive#,#msg_title#,
   #msg_content#,sysdate,#msg_group#,#msg_state#,#ref#,#re_step#,#re_level#,sysdate,#msg_rid#)
           
        </insert>
        
        
        <select id="msgAll" resultClass="msgDTO" parameterClass="String">
            select * from message where msg_rid=#id# order by msg_num desc        
        </select>
        
         <select id="msgSend" resultClass="msgDTO" parameterClass="String">
            select * from message where emp_num=#id# order by msg_num desc        
        </select>
        
        <select id="msgCont" resultClass="msgDTO" parameterClass="int">
            select * from message where msg_num=#msg_num#     
        </select>
        
        <select id="msgMem" resultClass="String" parameterClass="String">
            select emp_name from emp where emp_num=#emp_num#     
        </select>
        
        
      
      
</sqlMap>



