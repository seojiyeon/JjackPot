<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>


<sqlMap namespace="memo">
	<typeAlias alias="mdto" type="jackpot.DTO.memoDTO"/>
	
	<!-- 메모 카테고리 -->
	<select id="memoCate" parameterClass="String" resultClass="mdto">
		select * from memo_cate where emp_num=#emp_num#
	</select>
	
	<select id="memoCateCount" parameterClass="String" resultClass="int">
		select count(*) from memo_cate where emp_num=#emp_num#
	</select>
	
	<!-- 메모 -->
	<insert id="memoInsert" parameterClass="mdto">
		insert into memo values(
			memo_seq.NEXTVAL,
			#memo_cate#,
			#memo_title#,
			#memo_content#,
			#memo_state#,
			#emp_num#,
			sysdate,
			sysdate
		)
	</insert>
	
	<select id="memoSh" parameterClass="String" resultClass="mdto">
		select * from memo m, memo_cate mc where m.emp_num=#emp_num# and m.memo_cate=mc.cate_num
	</select>
	
	<select id="memoCount" parameterClass="String" resultClass="int">
		select count(*) from memo where emp_num=#emp_num#
	</select>
	
	<select id="memoContent" parameterClass="mdto" resultClass="mdto">
		select * from memo m, memo_cate mc where m.emp_num=#emp_num# and m.memo_num=#memo_num# and memo_cate=cate_num
	</select>
</sqlMap>